---
page_title: "commonfate_access_workflow Resource - commonfate"
subcategory: ""
description: |-
  Access Workflows are used to describe how long access should be applied. Created Workflows can be referenced in other resources created.
---

# commonfate_access_workflow (Resource)

Access Workflows are used to describe how long access should be applied. Created Workflows can be referenced in other resources created.



## Example Usage

```terraform
resource "commonfate-access_workflow" "workflow-demo" {
  name                     = "demo"
  access_duration_seconds  = 60 * 60 * 2
  default_duration_seconds = 50 * 60

  priority = 100

  validation = {
    has_reason = true
  }

  activation_expiry= 60 * 5

  extension_conditions = {
    extension_duration_seconds   = 60 * 30
    maximum_number_of_extensions = 4
  }

}
```


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `access_duration_seconds` (Number) The maximum allowable duration for the access workflow

### Optional

- `activation_expiry` (Number) The amount of time after access is activated before the request will be expired
- `approval_steps` (Attributes List) Define the requirements for grant approval, each step must be completed by a distict principal, steps can be completed in any order. (see [below for nested schema](#nestedatt--approval_steps))
- `default_duration_seconds` (Number) The default duration of the access workflow
- `extension_conditions` (Attributes) Configuration for extending access (see [below for nested schema](#nestedatt--extension_conditions))
- `name` (String) A unique name for the workflow so you know how to identify it.
- `priority` (Number) The priority that governs whether the policy will be used. If a different policy with a higher priority and the same role exists that one will be used over another.
- `try_extend_after_seconds` (Number, Deprecated) The amount of time after access is activated that extending access can be attempted. As a starting point we recommend setting this to half of the `access_duration_seconds`.
- `validation` (Attributes) Validation requirements to be set with this workflow (see [below for nested schema](#nestedatt--validation))

### Read-Only

- `id` (String) The internal approval workflow ID

<a id="nestedatt--approval_steps"></a>
### Nested Schema for `approval_steps`

Required:

- `name` (String) The name of the approval step.
- `when` (String) The Cedar when expression to evaluate a review for a match.


<a id="nestedatt--extension_conditions"></a>
### Nested Schema for `extension_conditions`

Required:

- `extension_duration_seconds` (Number) Specifies the duration for each extension. Defaults to the value of access_duration_seconds if not provided.
- `maximum_number_of_extensions` (Number) The maximum number of allowed extensions (set to 0 to disable extensions). If not set, it defaults to 0.


<a id="nestedatt--validation"></a>
### Nested Schema for `validation`

Optional:

- `has_reason` (Boolean) Whether a reason is required for this workflow
- `regex` (Attributes List) Regex validation requirements for the reason (see [below for nested schema](#nestedatt--validation--regex))

<a id="nestedatt--validation--regex"></a>
### Nested Schema for `validation.regex`

Required:

- `error_message` (String) The custom error message to show if the reason doesn't match the regex pattern.
- `regex_pattern` (String) The regex pattern that the reason should match on.

